<!DOCTYPE html>
<html lang="en">
<head>
    <title>The Chronicles of Data</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 900px;
            margin: 30px auto;
            padding: 20px;
            background: linear-gradient(135deg, #6B73FF 0%, #000DFF 100%);
            min-height: 100vh;
        }
        
        .game-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .data-dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .data-panel {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .panel-title {
            font-weight: bold;
            color: #34495e;
            margin-bottom: 10px;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 8px;
        }
        
        .inventory-item {
            background: white;
            padding: 8px;
            border-radius: 5px;
            text-align: center;
            font-size: 12px;
            border: 2px solid #3498db;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .inventory-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            background: #3498db;
            color: white;
        }
        
        .inventory-item.equipped {
            background: #27ae60;
            color: white;
            border-color: #27ae60;
        }
        
        .quest-item {
            background: white;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            border-left: 4px solid #e74c3c;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .quest-item.completed {
            border-left-color: #27ae60;
            opacity: 0.7;
            text-decoration: line-through;
        }
        
        .location-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .location-tag {
            background: #3498db;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .location-tag:hover {
            background: #2980b9;
            transform: scale(1.05);
        }
        
        .location-tag.visited {
            background: #95a5a6;
        }
        
        .story-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            min-height: 150px;
        }
        
        .story-text {
            font-size: 16px;
            line-height: 1.6;
            color: #2c3e50;
        }
        
        .choices-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }
        
        .choice-button {
            padding: 12px;
            background: white;
            border: 2px solid #3498db;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .choice-button:hover {
            background: #3498db;
            color: white;
            transform: translateY(-2px);
        }
        
        .stats-bar {
            display: flex;
            justify-content: space-around;
            background: #34495e;
            color: white;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-value {
            font-size: 20px;
            font-weight: bold;
        }
        
        .stat-label {
            font-size: 11px;
            opacity: 0.8;
        }
        
        .combat-log {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
            max-height: 150px;
            overflow-y: auto;
        }
        
        .log-entry {
            margin: 2px 0;
            padding: 2px 0;
        }
        
        .damage {
            color: #e74c3c;
        }
        
        .heal {
            color: #27ae60;
        }
        
        .info {
            color: #3498db;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>üìö The Chronicles of Data üìö</h1>
        
        <div class="stats-bar">
            <div class="stat">
                <div class="stat-value" id="health">100</div>
                <div class="stat-label">Health</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="gold">0</div>
                <div class="stat-label">Gold</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="level">1</div>
                <div class="stat-label">Level</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="exp">0</div>
                <div class="stat-label">EXP</div>
            </div>
        </div>
        
        <div class="data-dashboard">
            <div class="data-panel">
                <div class="panel-title">üì¶ Inventory</div>
                <div class="inventory-grid" id="inventory"></div>
            </div>
            
            <div class="data-panel">
                <div class="panel-title">üìú Active Quests</div>
                <div id="quests"></div>
            </div>
            
            <div class="data-panel">
                <div class="panel-title">üó∫Ô∏è Discovered Locations</div>
                <div class="location-list" id="locations"></div>
            </div>
            
            <div class="data-panel">
                <div class="panel-title">‚öîÔ∏è Combat Log</div>
                <div class="combat-log" id="combatLog"></div>
            </div>
        </div>
        
        <div class="story-section">
            <div class="story-text" id="story">
                Welcome to the world of arrays and loops! Your journey begins in the Data Village...
            </div>
        </div>
        
        <div class="choices-grid" id="choices"></div>
    </div>

    <script>
        // Game Data Arrays
        let inventory = ["Wooden Sword", "Health Potion", "Map"];
        let equippedItems = [];
        let discoveredLocations = ["Data Village"];
        let availableLocations = ["Data Village", "Array Forest", "Loop Lake", "Object Mountain", "Function Falls"];
        let quests = [
            { name: "Collect 5 Crystals", progress: 0, target: 5, completed: false },
            { name: "Visit all locations", progress: 1, target: 5, completed: false },
            { name: "Reach level 5", progress: 1, target: 5, completed: false }
        ];
        
        // Enemy Arrays
        let enemies = [
            { name: "Data Bug", health: 20, attack: 5, gold: 10, exp: 15 },
            { name: "Null Pointer", health: 30, attack: 8, gold: 15, exp: 25 },
            { name: "Stack Overflow", health: 40, attack: 10, gold: 20, exp: 35 },
            { name: "Memory Leak", health: 50, attack: 12, gold: 30, exp: 50 }
        ];
        
        // Shop Arrays
        let shopItems = [
            { name: "Iron Sword", cost: 50, type: "weapon" },
            { name: "Steel Shield", cost: 40, type: "armor" },
            { name: "Magic Scroll", cost: 30, type: "spell" },
            { name: "Health Potion", cost: 10, type: "consumable" },
            { name: "Crystal", cost: 25, type: "quest" }
        ];
        
        // Player Stats
        let playerHealth = 100;
        let playerMaxHealth = 100;
        let playerGold = 0;
        let playerLevel = 1;
        let playerExp = 0;
        let playerExpToNext = 100;
        
        // Combat Log
        let combatLog = [];
        
        // Helper Functions for Arrays
        function updateInventoryDisplay() {
            let inventoryHTML = "";
            for (let i = 0; i < inventory.length; i++) {
                let itemClass = equippedItems.includes(inventory[i]) ? "equipped" : "";
                inventoryHTML += `<div class="inventory-item ${itemClass}" onclick="useItem('${inventory[i]}')">${inventory[i]}</div>`;
            }
            document.getElementById('inventory').innerHTML = inventoryHTML || "<em>Empty</em>";
        }
        
        function updateQuestsDisplay() {
            let questsHTML = "";
            for (let quest of quests) {
                let questClass = quest.completed ? "completed" : "";
                questsHTML += `
                    <div class="quest-item ${questClass}">
                        <span>${quest.name}</span>
                        <span>${quest.progress}/${quest.target}</span>
                    </div>
                `;
            }
            document.getElementById('quests').innerHTML = questsHTML;
        }
        
        function updateLocationsDisplay() {
            let locationsHTML = "";
            for (let location of discoveredLocations) {
                locationsHTML += `<div class="location-tag visited" onclick="travelTo('${location}')">${location}</div>`;
            }
            document.getElementById('locations').innerHTML = locationsHTML;
        }
        
        function updateStats() {
            document.getElementById('health').innerHTML = playerHealth + "/" + playerMaxHealth;
            document.getElementById('gold').innerHTML = playerGold;
            document.getElementById('level').innerHTML = playerLevel;
            document.getElementById('exp').innerHTML = playerExp + "/" + playerExpToNext;
        }
        
        function addToCombatLog(message, type = "info") {
            combatLog.push({ message, type });
            if (combatLog.length > 10) {
                combatLog.shift(); // Remove oldest entry
            }
            
            let logHTML = "";
            for (let entry of combatLog) {
                logHTML += `<div class="log-entry ${entry.type}">${entry.message}</div>`;
            }
            document.getElementById('combatLog').innerHTML = logHTML;
        }
        
        // Array Manipulation Functions
        function addItem(itemName) {
            inventory.push(itemName);
            addToCombatLog(`+ ${itemName} added to inventory`, "info");
            updateInventoryDisplay();
            
            // Check for crystal quest
            let crystalCount = inventory.filter(item => item === "Crystal").length;
            updateQuestProgress("Collect 5 Crystals", crystalCount);
        }
        
        function removeItem(itemName) {
            let index = inventory.indexOf(itemName);
            if (index > -1) {
                inventory.splice(index, 1);
                updateInventoryDisplay();
            }
        }
        
        function hasItem(itemName) {
            return inventory.includes(itemName);
        }
        
        function countItem(itemName) {
            return inventory.filter(item => item === itemName).length;
        }
        
        // Quest System
        function updateQuestProgress(questName, newProgress) {
            for (let quest of quests) {
                if (quest.name === questName && !quest.completed) {
                    quest.progress = newProgress;
                    if (quest.progress >= quest.target) {
                        quest.completed = true;
                        questComplete(quest.name);
                    }
                    updateQuestsDisplay();
                    break;
                }
            }
        }
        
        function questComplete(questName) {
            addToCombatLog(`Quest Complete: ${questName}!`, "heal");
            playerGold += 50;
            gainExp(100);
            updateStats();
        }
        
        // Location Discovery
        function discoverLocation(locationName) {
            if (!discoveredLocations.includes(locationName)) {
                discoveredLocations.push(locationName);
                updateLocationsDisplay();
                updateQuestProgress("Visit all locations", discoveredLocations.length);
                addToCombatLog(`Discovered: ${locationName}`, "info");
            }
        }
        
        // Combat System with Arrays
        function startCombat(enemyIndex) {
            let enemy = { ...enemies[enemyIndex] }; // Copy enemy data
            let combatRound = 1;
            
            document.getElementById('story').innerHTML = `
                <h3>Battle: ${enemy.name}</h3>
                <p>Enemy Health: ${enemy.health}</p>
                <p>Your Health: ${playerHealth}</p>
            `;
            
            // Combat choices
            let choices = `
                <button class="choice-button" onclick="playerAttack(${enemyIndex})">‚öîÔ∏è Attack</button>
                <button class="choice-button" onclick="useHealthPotion()">üß™ Use Potion</button>
                <button class="choice-button" onclick="runAway()">üèÉ Run Away</button>
            `;
            
            document.getElementById('choices').innerHTML = choices;
        }
        
        function playerAttack(enemyIndex) {
            let enemy = enemies[enemyIndex];
            let damage = 10;
            
            if (hasItem("Iron Sword")) damage = 15;
            if (hasItem("Magic Scroll")) damage += 5;
            
            enemy.health -= damage;
            addToCombatLog(`You deal ${damage} damage!`, "damage");
            
            if (enemy.health <= 0) {
                victory(enemyIndex);
            } else {
                enemyAttack(enemyIndex);
            }
        }
        
        function enemyAttack(enemyIndex) {
            let enemy = enemies[enemyIndex];
            let damage = enemy.attack;
            
            if (hasItem("Steel Shield")) damage = Math.floor(damage * 0.7);
            
            playerHealth -= damage;
            addToCombatLog(`${enemy.name} deals ${damage} damage!`, "damage");
            updateStats();
            
            if (playerHealth <= 0) {
                gameOver();
            } else {
                startCombat(enemyIndex);
            }
        }
        
        function victory(enemyIndex) {
            let enemy = enemies[enemyIndex];
            playerGold += enemy.gold;
            gainExp(enemy.exp);
            
            addToCombatLog(`Victory! +${enemy.gold} gold, +${enemy.exp} exp`, "heal");
            
            // Random loot
            let lootChance = Math.random();
            if (lootChance > 0.5) {
                let lootItems = ["Health Potion", "Crystal", "Magic Scroll"];
                let randomLoot = lootItems[Math.floor(Math.random() * lootItems.length)];
                addItem(randomLoot);
            }
            
            enemies[enemyIndex].health = enemies[enemyIndex].health; // Reset for next encounter
            exploreCurrentLocation();
        }
        
        // Experience and Leveling
        function gainExp(amount) {
            playerExp += amount;
            while (playerExp >= playerExpToNext) {
                playerExp -= playerExpToNext;
                levelUp();
            }
            updateStats();
        }
        
        function levelUp() {
            playerLevel++;
            playerMaxHealth += 10;
            playerHealth = playerMaxHealth;
            playerExpToNext = playerLevel * 100;
            
            updateQuestProgress("Reach level 5", playerLevel);
            addToCombatLog(`Level Up! Now level ${playerLevel}`, "heal");
        }
        
        // Shop System with Loops
        function openShop() {
            let storyText = "<h3>üõçÔ∏è Item Shop</h3>";
            storyText += `<p>Your gold: ${playerGold}</p>`;
            storyText += "<p>Items for sale:</p>";
            
            document.getElementById('story').innerHTML = storyText;
            
            let choices = "";
            for (let i = 0; i < shopItems.length; i++) {
                let item = shopItems[i];
                if (playerGold >= item.cost) {
                    choices += `<button class="choice-button" onclick="buyItem(${i})">Buy ${item.name} (${item.cost}g)</button>`;
                } else {
                    choices += `<button class="choice-button" disabled>Buy ${item.name} (Need ${item.cost}g)</button>`;
                }
            }
            choices += `<button class="choice-button" onclick="exploreCurrentLocation()">Leave Shop</button>`;
            
            document.getElementById('choices').innerHTML = choices;
        }
        
        function buyItem(itemIndex) {
            let item = shopItems[itemIndex];
            if (playerGold >= item.cost) {
                playerGold -= item.cost;
                addItem(item.name);
                updateStats();
                openShop(); // Refresh shop
            }
        }
        
        // Use Item Function
        function useItem(itemName) {
            if (itemName === "Health Potion") {
                if (playerHealth < playerMaxHealth) {
                    playerHealth = Math.min(playerHealth + 30, playerMaxHealth);
                    removeItem(itemName);
                    addToCombatLog("Used Health Potion: +30 HP", "heal");
                    updateStats();
                }
            } else if (itemName === "Wooden Sword" || itemName === "Iron Sword") {
                // Toggle equipped status
                if (equippedItems.includes(itemName)) {
                    equippedItems = equippedItems.filter(item => item !== itemName);
                    addToCombatLog(`Unequipped ${itemName}`, "info");
                } else {
                    // Unequip other weapons
                    equippedItems = equippedItems.filter(item => !item.includes("Sword"));
                    equippedItems.push(itemName);
                    addToCombatLog(`Equipped ${itemName}`, "info");
                }
                updateInventoryDisplay();
            }
        }
        
        // Location Functions
        function travelTo(location) {
            discoverLocation(location);
            document.getElementById('story').innerHTML = `<h3>üìç ${location}</h3>`;
            exploreCurrentLocation();
        }
        
        function exploreCurrentLocation() {
            let choices = "";
            
            // Random events
            let eventChance = Math.random();
            if (eventChance < 0.3) {
                // Combat
                let randomEnemy = Math.floor(Math.random() * enemies.length);
                document.getElementById('story').innerHTML += `<p>A ${enemies[randomEnemy].name} appears!</p>`;
                choices += `<button class="choice-button" onclick="startCombat(${randomEnemy})">‚öîÔ∏è Fight</button>`;
            } else if (eventChance < 0.5) {
                // Find items
                document.getElementById('story').innerHTML += `<p>You found a treasure chest!</p>`;
                choices += `<button class="choice-button" onclick="openChest()">üì¶ Open Chest</button>`;
            } else {
                document.getElementById('story').innerHTML += `<p>The area seems peaceful.</p>`;
            }
            
            // Always available options
            choices += `<button class="choice-button" onclick="openShop()">üõçÔ∏è Visit Shop</button>`;
            choices += `<button class="choice-button" onclick="showTravelMenu()">üó∫Ô∏è Travel</button>`;
            choices += `<button class="choice-button" onclick="rest()">üò¥ Rest (Heal)</button>`;
            
            document.getElementById('choices').innerHTML = choices;
        }
        
        function showTravelMenu() {
            document.getElementById('story').innerHTML = "<h3>Where would you like to travel?</h3>";
            
            let choices = "";
            for (let location of availableLocations) {
                if (!discoveredLocations.includes(location)) {
                    choices += `<button class="choice-button" onclick="travelTo('${location}')">üÜï ${location}</button>`;
                } else {
                    choices += `<button class="choice-button" onclick="travelTo('${location}')">${location}</button>`;
                }
            }
            
            document.getElementById('choices').innerHTML = choices;
        }
        
        function openChest() {
            let goldFound = Math.floor(Math.random() * 30) + 10;
            playerGold += goldFound;
            
            let possibleItems = ["Health Potion", "Crystal", "Magic Scroll", "Iron Sword", "Steel Shield"];
            let itemsFound = [];
            
            // Find 1-3 random items
            let itemCount = Math.floor(Math.random() * 3) + 1;
            for (let i = 0; i < itemCount; i++) {
                let randomItem = possibleItems[Math.floor(Math.random() * possibleItems.length)];
                itemsFound.push(randomItem);
                addItem(randomItem);
            }
            
            document.getElementById('story').innerHTML = `
                <h3>Treasure Found!</h3>
                <p>Gold: +${goldFound}</p>
                <p>Items: ${itemsFound.join(", ")}</p>
            `;
            
            updateStats();
            
            document.getElementById('choices').innerHTML = `
                <button class="choice-button" onclick="exploreCurrentLocation()">Continue Exploring</button>
            `;
        }
        
        function rest() {
            let healAmount = 20;
            playerHealth = Math.min(playerHealth + healAmount, playerMaxHealth);
            addToCombatLog(`Rested: +${healAmount} HP`, "heal");
            updateStats();
            exploreCurrentLocation();
        }
        
        function runAway() {
            addToCombatLog("You fled from battle!", "info");
            exploreCurrentLocation();
        }
        
        function gameOver() {
            document.getElementById('story').innerHTML = `
                <h3>Game Over</h3>
                <p>You have been defeated!</p>
                <p>Final Level: ${playerLevel}</p>
                <p>Gold Collected: ${playerGold}</p>
                <p>Locations Discovered: ${discoveredLocations.length}/${availableLocations.length}</p>
            `;
            
            document.getElementById('choices').innerHTML = `
                <button class="choice-button" onclick="restart()">üîÑ Start New Game</button>
            `;
        }
        
        function restart() {
            // Reset all arrays and variables
            inventory = ["Wooden Sword", "Health Potion", "Map"];
            equippedItems = [];
            discoveredLocations = ["Data Village"];
            quests = [
                { name: "Collect 5 Crystals", progress: 0, target: 5, completed: false },
                { name: "Visit all locations", progress: 1, target: 5, completed: false },
                { name: "Reach level 5", progress: 1, target: 5, completed: false }
            ];
            combatLog = [];
            
            playerHealth = 100;
            playerMaxHealth = 100;
            playerGold = 0;
            playerLevel = 1;
            playerExp = 0;
            playerExpToNext = 100;
            
            // Reset enemy health
            for (let enemy of enemies) {
                enemy.health = enemy.health;
            }
            
            init();
        }
        
        // Initialize Game
        function init() {
            updateStats();
            updateInventoryDisplay();
            updateQuestsDisplay();
            updateLocationsDisplay();
            addToCombatLog("Game started!", "info");
            travelTo("Data Village");
        }
        
        // Start the game
        init();
    </script>
</body>
</html>