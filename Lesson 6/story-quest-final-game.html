<!DOCTYPE html>
<html lang="en">
<head>
    <title>The Hero's Ascension</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(to bottom, #1e3c72, #2a5298);
            min-height: 100vh;
        }

        .game-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        h1 {
            text-align: center;
            color: #1e3c72;
            font-size: 2em;
            margin-bottom: 20px;
        }

        .status-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
        }

        .stat-card {
            background: white;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-label {
            font-size: 11px;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-value {
            font-size: 20px;
            font-weight: bold;
            color: #333;
        }

        .story-text {
            font-size: 18px;
            line-height: 1.7;
            color: #2c3e50;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 5px solid #667eea;
        }

        .choices {
            margin: 20px 0;
        }

        button {
            display: block;
            width: 100%;
            padding: 0.8rem 1.5rem;
            margin: 10px 0;
            font-size: 1rem;
            background: white;
            color: #333;
            border: 2px solid #667eea;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        button:hover {
            background: #667eea;
            color: white;
            transform: translateX(5px);
        }

        button:disabled {
            background: #ccc;
            border-color: #ccc;
            color: #666;
            cursor: not-allowed;
            transform: none;
        }

        .guild-info {
            background: #e8f4fd;
            border-radius: 10px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 5px solid #3498db;
        }

        .guild-member {
            display: inline-block;
            background: white;
            padding: 0.5rem 1rem;
            margin: 0.25rem;
            border-radius: 6px;
            border: 1px solid #ddd;
            font-size: 0.9rem;
        }

        .system-info {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            font-size: 0.9rem;
            color: #856404;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem;
            border-radius: 8px;
            color: white;
            z-index: 1000;
            animation: slideIn 0.3s ease;
        }

        .notification.success {
            background: #2ecc71;
        }

        .notification.info {
            background: #3498db;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @media (max-width: 768px) {
            body {
                margin: 20px auto;
                padding: 10px;
            }

            .game-container {
                padding: 20px;
            }

            .status-panel {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>üè∞ The Hero's Ascension</h1>

        <div class="status-panel">
            <div class="stat-card">
                <div class="stat-label">Health</div>
                <div class="stat-value" id="health">100</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Mana</div>
                <div class="stat-value" id="mana">80</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Gold</div>
                <div class="stat-value" id="gold">500</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Renown</div>
                <div class="stat-value" id="renown">10</div>
            </div>
        </div>

        <div class="guild-info">
            <strong>üèõÔ∏è Royal Guild Members:</strong>
            <div id="guildMembers">
                <span class="guild-member">üëë Captain Marcus (Leader)</span>
                <span class="guild-member">üèπ Archer Elena</span>
                <span class="guild-member">üõ°Ô∏è Guardian Thor</span>
            </div>
        </div>

        <div id="story" class="story-text">
            After defeating the ancient dragon, you have become a legendary hero! The Royal Guild has invited you to join their ranks and help establish a new order of protection for the realm. As a guild member, you'll lead expeditions, manage resources, and coordinate with other heroes using advanced magical systems.
        </div>

        <div id="choices" class="choices">
            <button onclick="organizeExpedition()">üó∫Ô∏è Organize New Expedition</button>
            <button onclick="manageGuildResources()">üì¶ Manage Guild Resources</button>
            <button onclick="upgradeGuildSystems()">‚öôÔ∏è Upgrade Guild Systems</button>
        </div>

        <div class="system-info">
            <strong>üéØ Programming Concepts Demonstrated:</strong>
            This quest showcases objects and professional game systems:
            <br>‚Ä¢ Hero object with properties and methods for complex character management
            <br>‚Ä¢ Guild system object with member management and resource tracking
            <br>‚Ä¢ Expedition object with planning, preparation, and execution phases
            <br>‚Ä¢ Save/load system for persistent guild progress
        </div>
    </div>

    <script>
        // Hero object - demonstrates complex object with nested properties and methods
        const hero = {
            name: "Legendary Hero",
            health: 100,
            maxHealth: 100,
            mana: 80,
            maxMana: 80,
            gold: 500,
            renown: 10,
            titles: ["Dragon Slayer", "Tower Master", "Village Savior"],

            // Method to modify stats safely
            modifyStats: function(changes) {
                if (changes.health !== undefined) {
                    this.health = Math.max(0, Math.min(this.maxHealth, this.health + changes.health));
                }
                if (changes.mana !== undefined) {
                    this.mana = Math.max(0, Math.min(this.maxMana, this.mana + changes.mana));
                }
                if (changes.gold !== undefined) {
                    this.gold = Math.max(0, this.gold + changes.gold);
                }
                if (changes.renown !== undefined) {
                    this.renown = Math.max(0, this.renown + changes.renown);
                }
                this.updateDisplay();
            },

            // Method to check if hero can afford something
            canAfford: function(cost) {
                return this.gold >= cost && this.mana >= (cost / 10);
            },

            // Method to gain a new title
            earnTitle: function(newTitle) {
                if (!this.titles.includes(newTitle)) {
                    this.titles.push(newTitle);
                    ui.showNotification(`New title earned: ${newTitle}!`, 'success');
                }
            },

            // Method to update the display
            updateDisplay: function() {
                document.getElementById('health').textContent = this.health;
                document.getElementById('mana').textContent = this.mana;
                document.getElementById('gold').textContent = this.gold;
                document.getElementById('renown').textContent = this.renown;
            }
        };

        // Guild system object - demonstrates object organization for complex systems
        const guild = {
            name: "Royal Protectors",
            members: [
                { name: "Captain Marcus", role: "Leader", specialty: "Strategy", available: true },
                { name: "Archer Elena", role: "Scout", specialty: "Reconnaissance", available: true },
                { name: "Guardian Thor", role: "Tank", specialty: "Defense", available: true }
            ],
            resources: {
                supplies: 100,
                artifacts: 5,
                reputation: 85
            },

            // Method to recruit new members
            recruitMember: function(newMember) {
                this.members.push({
                    name: newMember.name,
                    role: newMember.role,
                    specialty: newMember.specialty,
                    available: true
                });
                this.updateMemberDisplay();
                ui.showNotification(`${newMember.name} joined the guild!`, 'success');
            },

            // Method to assign members to expeditions
            assignMembers: function(expedition) {
                const assignedMembers = [];
                for (let member of this.members) {
                    if (member.available && assignedMembers.length < expedition.requiredMembers) {
                        member.available = false;
                        assignedMembers.push(member);
                    }
                }
                return assignedMembers;
            },

            // Method to complete expeditions and return members
            completeExpedition: function(assignedMembers, success) {
                for (let member of assignedMembers) {
                    member.available = true;
                    if (success) {
                        // Members gain experience on successful expeditions
                        if (!member.experience) member.experience = 0;
                        member.experience += 10;
                    }
                }
                this.updateMemberDisplay();
            },

            // Method to update member display
            updateMemberDisplay: function() {
                const container = document.getElementById('guildMembers');
                container.innerHTML = '';
                for (let member of this.members) {
                    const statusIcon = member.available ? '‚úÖ' : 'üö´';
                    const memberSpan = document.createElement('span');
                    memberSpan.className = 'guild-member';
                    memberSpan.textContent = `${statusIcon} ${member.name} (${member.role})`;
                    container.appendChild(memberSpan);
                }
            }
        };

        // Expedition system object - demonstrates complex object interactions
        const expeditionSystem = {
            activeExpeditions: [],
            expeditionTypes: [
                { name: "Ancient Ruins Exploration", difficulty: "Medium", reward: { gold: 200, renown: 3 }, requiredMembers: 2 },
                { name: "Bandit Camp Clearance", difficulty: "Hard", reward: { gold: 300, renown: 5 }, requiredMembers: 3 },
                { name: "Artifact Recovery Mission", difficulty: "Extreme", reward: { gold: 500, renown: 8 }, requiredMembers: 4 }
            ],

            // Method to create and launch expeditions
            launchExpedition: function(expeditionType) {
                if (hero.canAfford(50)) {
                    const assignedMembers = guild.assignMembers(expeditionType);

                    if (assignedMembers.length >= expeditionType.requiredMembers) {
                        hero.modifyStats({ gold: -50, mana: -10 });

                        const expedition = {
                            type: expeditionType.name,
                            members: assignedMembers,
                            startTime: Date.now(),
                            duration: 3000, // 3 seconds for demo
                            reward: expeditionType.reward
                        };

                        this.activeExpeditions.push(expedition);
                        ui.showNotification(`${expeditionType.name} launched!`, 'info');

                        // Simulate expedition completion
                        setTimeout(() => this.completeExpedition(expedition), expedition.duration);

                        return true;
                    } else {
                        ui.showNotification('Not enough available guild members!', 'info');
                        return false;
                    }
                } else {
                    ui.showNotification('Not enough gold or mana!', 'info');
                    return false;
                }
            },

            // Method to handle expedition completion
            completeExpedition: function(expedition) {
                const success = Math.random() > 0.3; // 70% success rate

                if (success) {
                    hero.modifyStats(expedition.reward);
                    hero.earnTitle("Expedition Leader");
                    ui.showNotification(`${expedition.type} succeeded!`, 'success');
                } else {
                    ui.showNotification(`${expedition.type} failed, but members returned safely.`, 'info');
                }

                guild.completeExpedition(expedition.members, success);

                // Remove completed expedition
                const index = this.activeExpeditions.indexOf(expedition);
                this.activeExpeditions.splice(index, 1);
            }
        };

        // UI system object - demonstrates professional interface management
        const ui = {
            // Method to show notifications
            showNotification: function(message, type = 'info') {
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.textContent = message;
                document.body.appendChild(notification);

                setTimeout(() => notification.remove(), 3000);
            },

            // Method to update story text with animation
            updateStory: function(newText) {
                const storyElement = document.getElementById('story');
                storyElement.style.opacity = '0.5';

                setTimeout(() => {
                    storyElement.innerHTML = newText;
                    storyElement.style.opacity = '1';
                }, 200);
            },

            // Method to update choices
            updateChoices: function(choicesHtml) {
                document.getElementById('choices').innerHTML = choicesHtml;
            }
        };

        // Save system object - demonstrates data persistence
        const saveSystem = {
            save: function() {
                const saveData = {
                    hero: {
                        health: hero.health,
                        mana: hero.mana,
                        gold: hero.gold,
                        renown: hero.renown,
                        titles: hero.titles
                    },
                    guild: {
                        members: guild.members,
                        resources: guild.resources
                    },
                    timestamp: Date.now()
                };
                localStorage.setItem('heroAscensionSave', JSON.stringify(saveData));
                ui.showNotification('Guild progress saved!', 'success');
            },

            load: function() {
                const saved = localStorage.getItem('heroAscensionSave');
                if (saved) {
                    const data = JSON.parse(saved);

                    // Restore hero data
                    Object.assign(hero, data.hero);
                    hero.updateDisplay();

                    // Restore guild data
                    guild.members = data.guild.members;
                    guild.resources = data.guild.resources;
                    guild.updateMemberDisplay();

                    ui.showNotification('Guild progress loaded!', 'success');
                    return true;
                }
                return false;
            }
        };

        // Choice functions - demonstrate object method calls and interactions
        function organizeExpedition() {
            ui.updateStory(`As a renowned guild leader, you review available expeditions. Each requires careful planning,
                          member assignment, and resource allocation. Your leadership skills and the guild's coordination
                          systems ensure successful missions across the realm.`);

            const expeditionChoices = expeditionSystem.expeditionTypes.map((exp, index) =>
                `<button onclick="launchSpecificExpedition(${index})">
                    üéØ ${exp.name} (${exp.difficulty}) - ${exp.reward.gold}g, ${exp.reward.renown} renown
                </button>`
            ).join('');

            ui.updateChoices(expeditionChoices +
                '<button onclick="returnToGuild()">üè∞ Return to Guild Hall</button>');
        }

        function launchSpecificExpedition(index) {
            const expedition = expeditionSystem.expeditionTypes[index];
            const success = expeditionSystem.launchExpedition(expedition);

            if (success) {
                ui.updateStory(`You have successfully organized "${expedition.name}"! Your guild members are
                              departing with carefully planned strategies and proper equipment. The coordination
                              systems you've implemented ensure smooth communication throughout the mission.`);

                ui.updateChoices('<button onclick="organizeExpedition()">üó∫Ô∏è Plan Another Expedition</button>' +
                               '<button onclick="returnToGuild()">üè∞ Return to Guild Hall</button>');
            }
        }

        function manageGuildResources() {
            ui.updateStory(`Your guild's advanced resource management system tracks supplies, artifacts, and reputation.
                          Through careful organization and strategic planning, you ensure the guild operates efficiently.
                          Your leadership has transformed a simple group into a professional organization.`);

            ui.updateChoices(
                '<button onclick="upgradeEquipment()">‚öîÔ∏è Upgrade Equipment (200g)</button>' +
                '<button onclick="recruitNewMember()">üë• Recruit New Member (150g)</button>' +
                '<button onclick="increaseReputation()">üìà Boost Reputation (100g)</button>' +
                '<button onclick="returnToGuild()">üè∞ Return to Guild Hall</button>'
            );
        }

        function upgradeEquipment() {
            if (hero.canAfford(200)) {
                hero.modifyStats({ gold: -200, renown: 2 });
                guild.resources.supplies += 20;
                hero.earnTitle("Equipment Master");

                ui.updateStory(`You've successfully upgraded the guild's equipment! Advanced magical enhancements
                              now protect your members during expeditions. Your investment in quality gear
                              demonstrates the importance of proper resource management.`);
            } else {
                ui.showNotification('Insufficient resources for upgrade!', 'info');
            }
        }

        function recruitNewMember() {
            if (hero.canAfford(150)) {
                hero.modifyStats({ gold: -150 });

                const newMembers = [
                    { name: "Mage Lyra", role: "Spellcaster", specialty: "Elemental Magic" },
                    { name: "Rogue Finn", role: "Scout", specialty: "Stealth Operations" },
                    { name: "Cleric Sarah", role: "Healer", specialty: "Support Magic" }
                ];

                const newMember = newMembers[Math.floor(Math.random() * newMembers.length)];
                guild.recruitMember(newMember);
                hero.earnTitle("Guild Recruiter");

                ui.updateStory(`Welcome ${newMember.name} to the guild! Your recruitment system successfully
                              identified a skilled ${newMember.role} specializing in ${newMember.specialty}.
                              The guild's growing membership demonstrates your leadership effectiveness.`);
            } else {
                ui.showNotification('Insufficient gold for recruitment!', 'info');
            }
        }

        function increaseReputation() {
            if (hero.canAfford(100)) {
                hero.modifyStats({ gold: -100, renown: 3 });
                guild.resources.reputation += 15;

                ui.updateStory(`Your public relations efforts have increased the guild's reputation! Word of your
                              heroic deeds and professional organization spreads throughout the realm. Higher
                              reputation attracts better expeditions and more skilled recruits.`);
            } else {
                ui.showNotification('Insufficient gold for reputation boost!', 'info');
            }
        }

        function upgradeGuildSystems() {
            ui.updateStory(`Your guild utilizes advanced magical systems for communication, coordination, and management.
                          These systems demonstrate the power of organized code - each component has specific
                          responsibilities and works together seamlessly to create something greater than the sum of its parts.`);

            ui.updateChoices(
                '<button onclick="upgradeNotificationSystem()">üì¢ Upgrade Communication System (300g)</button>' +
                '<button onclick="implementAutoSave()">üíæ Implement Auto-Save System (250g)</button>' +
                '<button onclick="createBackupSystems()">üîÑ Create Backup Systems (400g)</button>' +
                '<button onclick="returnToGuild()">üè∞ Return to Guild Hall</button>'
            );
        }

        function upgradeNotificationSystem() {
            if (hero.canAfford(300)) {
                hero.modifyStats({ gold: -300, renown: 4 });
                hero.earnTitle("Systems Architect");

                ui.updateStory(`You've implemented an advanced notification system! Guild members now receive
                              instant updates about expeditions, threats, and opportunities. This system demonstrates
                              how well-organized code creates better user experiences and smoother operations.`);

                // Demonstrate the upgraded system
                setTimeout(() => ui.showNotification('System upgrade complete! Enhanced notifications active.', 'success'), 1000);
            } else {
                ui.showNotification('Insufficient resources for system upgrade!', 'info');
            }
        }

        function implementAutoSave() {
            if (hero.canAfford(250)) {
                hero.modifyStats({ gold: -250, renown: 3 });
                hero.earnTitle("Data Guardian");

                ui.updateStory(`You've implemented an automatic save system! Guild progress is now continuously
                              preserved, ensuring no achievements or member progress is ever lost. This demonstrates
                              the importance of data persistence in professional applications.`);

                // Enable auto-save
                setInterval(() => saveSystem.save(), 30000); // Auto-save every 30 seconds
                ui.showNotification('Auto-save system activated!', 'success');
            } else {
                ui.showNotification('Insufficient resources for auto-save implementation!', 'info');
            }
        }

        function createBackupSystems() {
            if (hero.canAfford(400)) {
                hero.modifyStats({ gold: -400, renown: 5 });
                hero.earnTitle("Legendary Guild Master");

                ui.updateStory(`You've created comprehensive backup systems for the guild! Multiple redundant
                              magical networks ensure the guild's operations continue smoothly even during crises.
                              Your mastery of organizational systems makes you a legendary guild leader.

                              üéâ Congratulations! You've completed your programming journey from village newcomer
                              to legendary guild master, mastering every aspect of code organization and professional
                              system design!`);

                ui.updateChoices(
                    '<button onclick="viewFinalAccomplishments()">üèÜ View Final Accomplishments</button>' +
                    '<button onclick="exportGuildData()">üì§ Export Guild Data</button>' +
                    '<button onclick="startNewLegacy()">üîÑ Start New Legacy</button>'
                );
            } else {
                ui.showNotification('Insufficient resources for backup systems!', 'info');
            }
        }

        function viewFinalAccomplishments() {
            ui.updateStory(`<strong>üéì Your Complete Programming Journey:</strong><br><br>
                         ‚úÖ <strong>Lesson 3:</strong> Village Hero - Mastered conditional logic and decision-making<br>
                         ‚úÖ <strong>Lesson 4:</strong> Tower Master - Created reusable magical helpers (functions)<br>
                         ‚úÖ <strong>Lesson 5:</strong> Dragon Slayer - Organized complex data with arrays and loops<br>
                         ‚úÖ <strong>Lesson 6:</strong> Guild Master - Built professional systems with objects<br><br>
                         <strong>üè∞ Final Guild Stats:</strong><br>
                         Guild Members: ${guild.members.length} | Renown: ${hero.renown} | Titles: ${hero.titles.length}<br><br>
                         From a simple village newcomer to a legendary guild master, you've mastered every
                         fundamental programming concept. Your code is now organized, professional, and ready
                         for any challenge the realm might face!`);

            ui.updateChoices(
                '<button onclick="exportGuildData()">üì§ Export Guild Legacy</button>' +
                '<button onclick="startNewLegacy()">üîÑ Start New Legacy</button>'
            );
        }

        function exportGuildData() {
            const guildReport = {
                heroName: hero.name,
                finalLevel: "Guild Master",
                totalRenown: hero.renown,
                titlesEarned: hero.titles,
                guildMembers: guild.members.length,
                guildReputation: guild.resources.reputation,
                completionDate: new Date().toLocaleDateString(),
                programmingMastery: [
                    "Conditional Logic & Decision Making",
                    "Function Creation & Reusability",
                    "Array Management & Loop Optimization",
                    "Object Organization & System Architecture",
                    "Professional Code Structure & Polish"
                ]
            };

            const dataStr = JSON.stringify(guildReport, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);

            const link = document.createElement('a');
            link.href = url;
            link.download = 'guild-master-legacy.json';
            link.click();

            ui.showNotification('Guild legacy exported successfully!', 'success');
        }

        function startNewLegacy() {
            if (confirm('Are you ready to begin a new hero\'s journey? This will reset all progress.')) {
                localStorage.removeItem('heroAscensionSave');
                location.reload();
            }
        }

        function returnToGuild() {
            ui.updateStory(`You return to the guild hall, where your fellow heroes greet you with respect and admiration.
                          The advanced systems you've implemented run smoothly in the background, demonstrating the
                          power of well-organized code. Your guild has become a model of efficiency and coordination.`);

            ui.updateChoices(
                '<button onclick="organizeExpedition()">üó∫Ô∏è Organize New Expedition</button>' +
                '<button onclick="manageGuildResources()">üì¶ Manage Guild Resources</button>' +
                '<button onclick="upgradeGuildSystems()">‚öôÔ∏è Upgrade Guild Systems</button>' +
                '<button onclick="saveSystem.save()">üíæ Save Guild Progress</button>'
            );
        }

        // Initialize the game
        function initializeGame() {
            hero.updateDisplay();
            guild.updateMemberDisplay();
            saveSystem.load();
        }

        // Start the game when page loads
        window.addEventListener('DOMContentLoaded', initializeGame);
    </script>
</body>
</html>